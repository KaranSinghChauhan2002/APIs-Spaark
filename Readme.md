# Geo-Data API

This project is a RESTful API built with Node.js, Express.js, and MongoDB. The API allows users to register, login, update their credentials, delete their accounts, and perform geospatial queries to find restaurants near a specific point or within a specific radius range.

## Features

- **User Authentication:**
  - Register a new user
  - Login with email and password
  - Update user email and/or password
  - Delete user account
  
- **Geospatial Queries:**
  - Find restaurants near a specific point.
  - Find restaurants within a specified radius range.

## API Endpoints

### Authentication and User Management

- **Register a User:**
  - `POST /register`
  - Request body:
    ```json
    {
      "email": "user@example.com",
      "password": "password123",
      "cnfpassword": "password123"
    }
    ```
  - The response will include a JWT token for authentication.

- **Login a User:**
  - `POST /login`
  - Request body:
    ```json
    {
      "email": "user@example.com",
      "password": "password123"
    }
    ```
    - Requires a valid JWT token in the `Authorization` header generated by registering a user.


- **Update User Credentials:**
  - `PUT /update`
  - Request body:
    ```json
    {
      "email": "user@example.com",
      "password": "currentPassword",
      "updateemail": "newuser@example.com", // Optional
      "updatepass": "newPassword123" // Optional
    }
    ```
  - Requires a valid JWT token in the `Authorization` header.

- **Delete a User:**
  - `DELETE /delete`
  - Request body:
    ```json
    {
      "email": "user@example.com",
      "password": "password123"
    }
    ```
  - Requires a valid JWT token in the `Authorization` header.

### Geospatial Queries

- **Find Restaurants Near a Specific Point:**
  - `GET /specificpoint`
  - Query parameters:
    - `latitude`: Latitude of the point
    - `longitude`: Longitude of the point
    - `radius`: Radius in meters

- **Find Restaurants Within a Radius Range:**
  - `GET /radiusrange`
  - Query parameters:
    - `latitude`: Latitude of the center point
    - `longitude`: Longitude of the center point
    - `minimumDistance`: Minimum radius in meters
    - `maximumDistance`: Maximum radius in meters

## Getting Started
MongoDB{
UserId: karanabhinav2002
Password: cqBEz8GQ8Bj3IWJj
}


### Prerequisites

- Node.js
- MongoDB
- npm or yarn

### Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/KaranSinghChauhan2002/APIs-Spaark.git

2. Install Node Modules:
  ```npm i
3. use nodemon ```server.js 
or 
```node server.js
4. Hit the below APIs in Postman

  Register: localhost:5000/register
  Requirements: Send data in this format 
  {
    "email":"",
    "password":"",
    "cnfpassword":""
  }


  Login:  localhost:5000/login
  Requirements: Copy the jwttoken sent while registering user and paste it to authorization header with (bearer jwttoken)
  and sent email password in request body
    {
    "email":"",
    "password":""
    }


  Update: localhost:5000/update
  Requirements: Copy the jwttoken sent while registering user and paste it to authorization header with (bearer jwttoken)
  and send data in response body
  if you want to update password
    {
    "email":"admin@gmail.com", 
    "password":"", 
     "updatepass":"" 
    }

    if you want to update email
    {
    "email":"", 
    "password":"", 
     "updateemail":"" 
    }


  Delete: localhost:5000/delete
  Requirements: Copy the jwttoken sent while registering user and paste it to authorization header with (bearer jwttoken)
  and send data in response body
  {
    "email":"",
    "password":""
  }
  

  Get Restraunts at a fixed radius (eg-500 metre) do
  Hit:  http://localhost:5000/specificpoint?latitude=40.730610&longitude=-73.935242&radius=500

  Get Restraunts at a min distance to max distance
  Hit:  http://localhost:5000/radiusrange?latitude=40.848447&longitude=-73.856077&minimumDistance=100&maximumDistance=2000



      

  

   
